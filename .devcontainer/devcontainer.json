{
	"name": "Claude Code Environment",
	"image": "mcr.microsoft.com/devcontainers/base:ubuntu",
	"features": {
		"ghcr.io/devcontainers/features/node:1": {
			"version": "lts"
		},
		"ghcr.io/va-h/devcontainers-features/uv:1": {},
		"ghcr.io/devcontainers/features/go:1": {},
		"ghcr.io/devcontainers/features/python:1": {},
		"ghcr.io/devcontainers-community/features/deno:1": {}
	},
	"postCreateCommand": "pnpm install -g @anthropic-ai/claude-code && chmod +x .devcontainer/setup-api-key.sh",
	"postStartCommand": ".devcontainer/setup-api-key.sh",
	"remoteEnv": {
		"ANTHROPIC_API_KEY": "${localEnv:ANTHROPIC_API_KEY}"
	},
        "secrets": {
		"ANTHROPIC_API_KEY": {
			"description": "Anthropic Claude API Key",
			"documentationUrl": "https://console.anthropic.com/keys"
		}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"github.copilot",
				"ms-python.python",
				"dbaeumer.vscode-eslint",
      				"esbenp.prettier-vscode",
      				"golang.go",
      				"denoland.vscode-deno",
				"charliermarsh.ruff"
			],
			"settings": {
				"terminal.integrated.defaultProfile.linux": "zsh"
			}
		}
	}
}
